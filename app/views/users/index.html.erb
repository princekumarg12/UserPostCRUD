<% if user_signed_in? %>
<div class="container">
  <h5>all User details info</h5>
  <div><%= link_to 'Create a post',new_user_post_path(current_user),class: 'btn btn-outline-info' %></div>
  <br>
  <table class="table" id="user_table">
    <thead class="table-dark">
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Username</th>
      <th>Email</th>
      <th>age</th>
    </tr>
    </thead>
    <tbody>
    <% @users.each do |user| %>
      <tr>
        <td><%= user.id %></td>
        <td><%= user.first_name %></td>
        <td><%= user.username %></td>
        <td><%= user.email %></td>
        <td><%= user.age %></td>
      </tr>
    <% end %>
    </tbody>
  </table>
<% if @posts.present? %>
  <p>Posts</p>

  <table class="table" id="post_table">
    <thead class="table-dark">
    <tr>
      <th>ID</th>
      <th>Title</th>
      <th>Poster</th>
      <th>Content</th>
      <th>show</th>
      <th>Edit</th>
      <th>Delete</th>
    </tr>
    </thead>
    <tbody>
    <% @posts.each do |post| %>
      <tr>
        <td><%= post.id %></td>
        <td><%= post.title %></td>
        <td><%= post.user.first_name %></td>
        <td><%= post.content %></td>
        <td class="text-secondary"><%= link_to 'show',user_post_path(current_user,post) %></td>
        <td class="text-secondary"><%= link_to_if current_user == post.user, 'edit',edit_user_post_path(current_user,post) %></td>
        <td class="text-secondary"><%= link_to_if current_user == post.user, 'delete',user_post_path(current_user,post),
                        method: :delete,data: {confirm: 'are you sure'},class: 'link-danger' %></td>
      </tr>
    <% end %>
    </tbody>
  </table>
<% else %><p>No posts yet</p>
<% end %>
</div>
<% else %><p>Please Sign in first</p>
<% end %>
